---
import { getUser, redirectUser } from '@astro-auth/core';

const { fallback } = Astro.props;

const user = getUser({ client: Astro });
if (!user) {
  fallback();
}
---

{user && <slot />}
